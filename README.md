# teehex

Performance-first TypeScript monorepo for a hexagonal architecture project generator.

## Repository layout

- `packages/cli`: the CLI installer and command entrypoint.
- `packages/templates`: template source registry consumed by the CLI.
- `packages/shared`: tiny shared utilities (filesystem helpers, logger, shared types).
- `docs`: architecture and design notes.

## Template support matrix

Legend:

- Supported now = scaffolded by CLI and works end-to-end.
- Supported partially = present as template assets/docs only, not full end-to-end CLI generation.
- Planned = not generated yet.


## Backend
| Item | Status | Notes |
| --- | --- | --- |
| Vercel Functions | Supported now | `/api` functions + Vercel config are generated. |
| Fastify | Planned | Option shown as planned in CLI prompts. |
| Express | Planned | Option shown as planned in CLI prompts. |
## Frontend
| Item | Status | Notes |
| --- | --- | --- |
| React (Vite) | Supported now | Generated via CLI. |
| Vue (Vite) | Supported now | Generated via CLI. |
| Svelte (Vite) | Supported now | Generated via CLI. |
| Solid (Vite) | Supported now | Generated via CLI. |
| Preact (Vite) | Supported now | Generated via CLI. |
| Angular | Planned | Not generated by CLI today. |
| Ember | Planned | Not generated by CLI today. |
| Lit / Qwik / Astro | Planned | Listed as planned options only. |
## UI Overlay
| Item | Status | Notes |
| --- | --- | --- |
| None | Supported now | Base neobrutalist styles. |
| Tailwind / DaisyUI / Bootstrap | Supported now | Applied via overlay injectors. |
| Bulma / UnoCSS / shadcn/ui | Planned | Not generated by CLI today. |
## DB
| Item | Status | Notes |
| --- | --- | --- |
| InMemory | Supported now | End-to-end scaffolding path. |
| SQLite | Supported now | End-to-end scaffolding path with adapter template. |
| Postgres | Supported now | End-to-end scaffolding path with adapter template. |
| Supabase / Neon | Supported now | Postgres adapter path with provider conventions. |
| MySQL / Mongo / Redis / Turso | Planned | Not generated by CLI today. |

## Misc
| Area | Item | Status | Notes |
| --- | --- | --- | --- |
| Worker | Browser Web Worker + Node worker_threads protocol | Supported now | Shared worker contract and `cpuSpin` task scaffolded. |
| Adapter catalog | DB adapter templates (`adapters/db`) | Supported partially | Template assets available; not all providers wired as generated options. |

## Using the CLI

### From this repository (current, works now)

The package is not published to npm yet, so `npx create-hexagon-ts ...` will return `E404` until first publish.

```bash
corepack pnpm -w install
corepack pnpm -w -r build
corepack pnpm --filter create-hexagon-ts exec create-hexagon-ts my-app
```

If `pnpm` is not recognized on Windows, keep using `corepack pnpm ...` exactly as shown.

### From npm (after publish)

```bash
npx create-hexagon-ts my-app
```

Alias (same CLI):

```bash
npx teehex my-app
```

The CLI then prompts for:

1. Frontend framework
2. UI overlay
3. Backend
4. DB adapter
5. Workers on/off
6. Git init + initial commit

## Development

### Prerequisites

- Node.js 20+
- pnpm 9+ (or Corepack)

### Quick start (cross-platform, recommended)

If `pnpm` is not recognized (common on Windows), use Corepack-managed pnpm:

```bash
corepack prepare pnpm@9.15.4 --activate
corepack pnpm -w install
corepack pnpm -w -r build
```

### Windows notes

- If `pnpm` is still not found after activation, run commands with `corepack pnpm ...`.
- On some Windows setups, `corepack enable` may fail with permissions under `C:\Program Files\nodejs`.
   - In that case, **skip** `corepack enable` and use `corepack pnpm ...` directly.

### Install

```bash
corepack pnpm -w install
```

### Build all packages

```bash
corepack pnpm -w -r build
```

### Lint

```bash
corepack pnpm -w lint
```

## Release process (manual for now)

1. Ensure working tree is clean.
2. Run install, lint, and build:
   - `corepack pnpm -w install`
   - `corepack pnpm -w lint`
   - `corepack pnpm -w -r build`
3. Bump versions in package manifests as needed.
4. Create a descriptive git commit and tag:
   - `git tag vX.Y.Z`
5. Publish the CLI package:
   - `corepack pnpm --filter create-hexagon-ts publish --access public`

## Public APIs

- `@teehex/shared`: logger, fs helpers, and foundational types.
- `@teehex/templates`: template metadata and source registry.
- `@teehex/cli`: executable command to scaffold future projects.
